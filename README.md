### Асинхронный (aiogram) Телеграм-бот для футбольного клуба "Империал", который будет автоматизицировать рутинные процессы, такие как создание голосований, оплата спортивных мероприятий, редактирование информации, отображение статистики по играм, игрокам и др. 
##### Для работы используются только асинхронные библиотеки или модули: asyncpg, AsyncIOScheduler, aioredis, aioEasyPillow, aiofiles

#### Первый этап (завершен)
```
1. Созданы команды для администратора:
   - редактирование общих команд (c помощью БД):  /change_about (изменеие описания),  /change_rules (правил);
   - /task_scheduler (планировщик событий) на требуемый период, тип: "Голосования" (apscheduler, aigoram-calendar, redis):
     - Функциональность:
       - Создание, изменение, удаление события;
       - 3 вида событий (Игра, Тренировка, Тренировка 2);
       - Поля для создания: описание, день, дата начала, дата конца;
       - Изменение происходит по принципу создания;
       - Удаление по типу выбранного события;
       - Ограничение на выбор при создании, изменении или удалении, если был затронут данный тип события;
2. Созданы пользовательские обработчики команд: /about (описание клуба), /rules (правила клуба), /statistic (статистика матчей), /team (статистика игроков);
3. Парсер для сбора данных из турнирной таблицы (bs4, aiohtttp, aiofiles), реаилизована запись в БД (postgres).
```
#### Второй этап (завершен)
```
1. Подключена бд, созданы 2 таблицы (Турнирная таблица, Команда) проведеы миграции(PostgreSQL, Alembic);
2. Доработан парсер для таблицы "Турнирная таблица", реализована запись в бд;
3. Создан парсер для таблицы "Команда", реализована запись в бд;
4. Настроен мидлваре для передачи сессии бд в хендлеры и их закрытие после записи.
```
#### Третий этап (завершен)
```
1. Принцип работы парсера для генерации изображений:
    - парсер сохраняет в директорию медиа автарки игроков (aiofiles);
    - передает данные далее в pillow для генерации изображения с актуальной информацией об игроке (/team), статистики в турнире(/statstic);
    - сохраняет в директорию медиа актуальную информацию;
    - обновление раз в неделю.
2. Команда /statistic отправляет пользователю изображение с общей статисткой о команде в турнире;
3. Команда /team отправляет пользователю изображение со статистикой об игроке (аватарка, данные об игроке, сводная информация в турнире);
4. Данные об именах игроков использются из бд для динамической генерации клавиатуры, обновление данных раз в неделю. 
```
#### Четвертый этап (завершен)
```
1. Создание двух таблиц в бд для команд: /about (Описание), /rules (Правила);
2. Редактирование команд /about (Описание), /rules (Правила) и запись новых данных в бд через /change_about (Изменить описание), /change_rules (Изменить правила);
3. Отладка всех команд бота;
4. Очищение зранилища от **базовых задач** apscheduler после перезапуска бота;
4. Настройка dockerfile, docker-compose.
```
#### Пятый этап ()
```
1. Деплой на удалённый сервер Docker-compose в 3х контейнерах:
    - postgres:11.0-alpine (сервис postgres)
    - redis:6.2-alpine (сервис хранилище для scheduler)
    - imperial_bot:v1.0.0 (backend)
2. Тестовый запуск.
```
#### Шестой этап
```
- Финальная отладка
- Релиз
- ...
```

###### Ivan Krasnikov
